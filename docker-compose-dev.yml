version: '3.3'
services:

  backend:
    build: ./backend
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - "./backend:/usr/src/app"
      - "./data/leveldb:/var/lib/leveldb/data"
      - "./data/logs/backend:/usr/src/app/app/logs"
      - "./data/ethernode/geth_ipc:/usr/src/geth_ipc:ro"
    environment:
      NODE_ENV: development
      PRODUCTION_MODE: "OFF"    
      PLASMA_CONTRACT_ADDRESS: '0x91fab8a3025af6b9d25da01040623eef421cffad'
      PLASMA_OPERATOR_ADDRESS: '0x4DC884abB17d11DE6102fC1ef2ceE0EbD31DF248'
      PLASMA_OPERATOR_PRIVATE: ''
      PLASMA_OPERATOR_PASSWORD: ''
    command: 'npm run development'
    logging:
      options:
        max-size: 1000m
    restart: 'no'
